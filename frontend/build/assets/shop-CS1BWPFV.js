import{r,a as h,k as m,j as s,i as p}from"./index-DrOKnMkI.js";const j=()=>{const[o,c]=r.useState([]),[i,n]=r.useState(null),[d]=r.useState(new Set),l=h(),{addItem:u}=m();return r.useEffect(()=>{(async()=>{try{const t=await p.get("/products/list/");c(t.data.map(a=>({...a,price:Number(a.price),quantity:Number(a.quantity)})))}catch(t){console.error("Failed to load products:",t),n("Failed to load products. Please try again later.")}})()},[]),s.jsx("div",{className:"shop",children:s.jsxs("div",{className:"container",children:[i&&s.jsx("div",{className:"error-banner",children:i}),s.jsxs("div",{className:"shop-hero",children:[s.jsx("h1",{className:"shop-title",children:"All Products"}),s.jsx("p",{className:"shop-subtitle",children:"We'd love to hear from you! Whether you have a question about features, pricing, or anything else, our team is ready to help."})]}),s.jsx("div",{className:"product-grid",children:o.map(e=>{const t=d.has(e.id),a=e.stock===0;return s.jsxs("article",{className:"product-card",children:[s.jsx("img",{src:e.image,alt:e.name}),s.jsx("h3",{children:e.name}),s.jsx("div",{className:"product-details",children:s.jsxs("p",{className:"price",children:["$",e.price.toFixed(2)]})}),s.jsx("button",{className:"addCart",onClick:()=>u(e),disabled:t||a,type:"button",children:t?"Adding...":a?"Out of Stock":"Add to Cart"}),s.jsx("button",{className:"viewCart",onClick:()=>l(`/shop/product/${e.id}`),type:"button",children:"View Product"})]},e.id)})})]})})};export{j as default};
