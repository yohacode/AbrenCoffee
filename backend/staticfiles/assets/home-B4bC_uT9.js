import{r as t,j as e,i as f,y as j,k as w,a as v,B as N,L as b}from"./index-Bccf4OWe.js";import{e as C,f as S}from"./index-BmiQ0jFp.js";import{O as y,H as I}from"./ourstory-Bfqfu7Xu.js";const E=({show:a,productId:c,userId:d})=>{const[i,n]=t.useState(!1),[r,o]=t.useState(!1),[u,m]=t.useState([]);t.useEffect(()=>{(async()=>{const s=localStorage.getItem("access_token");try{const g=await f.get("/wishlist/list/",{headers:s?{Authorization:`Bearer ${s}`}:{}});m(g.data)}catch(g){console.error("Failed to fetch wishlist",g)}})()},[]),t.useEffect(()=>{const h=u.some(s=>s.product.id===c);n(h)},[u,c]);const l=async()=>{o(!0);const h=localStorage.getItem("access_token");try{await f.post("/wishlist/create/",{product:c,user:d},{headers:{Authorization:`Bearer ${h}`}}),n(!0),j.success("✅ Added to wishlist!")}catch{j.error("❌ Failed to add to wishlist.")}finally{o(!1)}};return a?e.jsx("button",{onClick:l,disabled:r||i,className:"wish-button",children:i?"💖":"🤍"}):null},k=()=>{const[a,c]=t.useState([]),{addItem:d}=w(),i=v(),[n,r]=t.useState(!1),o=t.useRef(0),u=3,m=()=>{const l=window.scrollY;l>o.current?r(!0):r(!1),o.current=l};return t.useEffect(()=>(window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)),[]),t.useEffect(()=>{(async()=>{const h=await f.get("/products/list/");c(h.data.slice(0,u))})()},[]),e.jsxs("div",{className:"trending-products",children:[e.jsx("h1",{children:"Trending Products"}),a.length>0?e.jsx("div",{className:"product_container",children:a.map((l,h)=>e.jsxs("div",{className:n?"product_card anime":"product_card",children:[e.jsx("img",{src:l.image,alt:""}),e.jsxs("div",{className:"description",children:[e.jsx("p",{children:l.name}),e.jsxs("p",{children:["$",l.price]})]}),e.jsxs("div",{className:"button-group",children:[e.jsx("button",{className:"addCart",onClick:()=>d(l),type:"button",children:"Add to Cart"}),e.jsx("button",{className:"viewCart",onClick:()=>i(`/product/${l.id}`),type:"button",children:"View Product"})]}),e.jsx(E,{show:!0,productId:l.id,userId:1})]},h))}):e.jsx(e.Fragment,{children:e.jsx("p",{className:"loading-products",children:"Loading products...."})})]})},L=()=>{const[a,c]=t.useState([]),[d,i]=t.useState(0),[n,r]=t.useState(window.innerWidth<=768?1:3),o=v();t.useEffect(()=>{(async()=>{try{const g=await f.get("/blog/list/");c(g.data)}catch(g){console.error("Error fetching blogs:",g)}})()},[]),t.useEffect(()=>{const s=()=>{r(window.innerWidth<=768?1:3),i(0)};return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const u=Math.ceil(a.length/n),m=a.slice(d*n,(d+1)*n);t.useEffect(()=>{if(a.length===0)return;const s=setInterval(()=>{i(g=>(g+1)%u)},5e3);return()=>clearInterval(s)},[a.length,u]);const l=()=>{i(s=>(s+1)%u)},h=()=>{i(s=>(s-1+u)%u)};return e.jsx("div",{className:"home-blog",children:e.jsxs("div",{className:"container",children:[e.jsx("h2",{className:"section-title",children:"Latest from the Blog"}),e.jsx("p",{className:"section-description",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat ccusantium, unde sunt fugit quaerat cupiditate nesciunt recusandae sapiente?"}),e.jsx("div",{className:"home-blog-cards",children:a.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",title:"prev",onClick:h,className:"arrow",disabled:a.length===0,children:e.jsx(C,{})}),m.map(s=>e.jsx("div",{className:"home-blog-card",onClick:()=>o(`/blog/detail/${s.id}`),children:e.jsxs("div",{className:"card-content",children:[e.jsx("img",{src:s.image,alt:s.title}),e.jsx("h3",{children:s.title}),e.jsxs("p",{className:"meta",children:["By ",s.author_username," ·"," ",new Date(s.created_at).toLocaleDateString()]}),e.jsxs("p",{children:[s.content.slice(0,100),"..."]}),e.jsx("button",{title:"readmore",className:"readmore-button",onClick:()=>o(`/blog/detail/${s.id}`),children:"Read more..."})]})},s.id)),e.jsx("button",{type:"button",title:"next",onClick:l,className:"arrow",disabled:a.length===0,children:e.jsx(S,{})})]})})]})})},B="/static/assets/person_2-BOsjfWUh.jpg",_="/static/assets/person_3-CI-003NU.jpg",P="/static/assets/person_4-CFJh5yzE.jpg",p=[{quote:"Great service!",name:"Alice",position:"Designer",image:B},{quote:"Loved the experience.",name:"Bob",position:"Developer",image:_},{quote:"Highly recommended!",name:"Charlie",position:"Marketer",image:P}],A=()=>{const[a,c]=t.useState(0);t.useEffect(()=>{const n=setInterval(()=>{c(r=>(r+1)%p.length)},8e3);return()=>clearInterval(n)},[]);const d=(a-1+p.length)%p.length,i=(a+1)%p.length;return e.jsxs("div",{className:"slider",children:[e.jsx("h1",{children:"Testimony"}),p.map((n,r)=>{let o="card";return r===a?o+=" active":r===d?o+=" prev":r===i?o+=" next":o+=" hidden",e.jsxs("div",{className:o,children:[e.jsx("img",{src:n.image,alt:n.name}),e.jsxs("div",{className:"text",children:[e.jsx("h3",{children:n.name}),e.jsx("p",{children:n.position}),e.jsx("q",{children:n.quote})]})]},r)})]})},D="/static/assets/bg_1-ExwbCvXU.jpg",R="/static/assets/bg_2-DRRVo1UI.jpg",W="/static/assets/bg_3-CLXpHu8m.jpg",x=({iconClass:a,target:c,label:d})=>{const[i,n]=t.useState(0);return t.useEffect(()=>{let r=0;const u=c/(2e3/50),m=setInterval(()=>{r+=u,r>=c?(clearInterval(m),n(c)):n(Math.ceil(r))},50);return()=>clearInterval(m)},[c]),e.jsx("div",{className:"counter-wrap",children:e.jsxs("div",{className:"text",children:[e.jsx("div",{className:"icon",children:e.jsx("span",{className:a,children:e.jsx(N,{})})}),e.jsx("strong",{className:"number",children:i}),e.jsx("span",{children:d})]})})};function F(){return e.jsxs("section",{className:"ftco-counter",id:"section-counter",children:[e.jsx("div",{className:"overlay"}),e.jsx("div",{className:"container",children:e.jsxs("div",{className:"row",children:[e.jsx(x,{iconClass:"flaticon-coffee-cup",target:100,label:"Coffee Branches"}),e.jsx(x,{iconClass:"flaticon-coffee-cup",target:85,label:"Number of Awards"}),e.jsx(x,{iconClass:"flaticon-coffee-cup",target:10567,label:"Happy Customers"}),e.jsx(x,{iconClass:"flaticon-coffee-cup",target:900,label:"Staff"})]})})]})}const q=()=>{const[a,c]=t.useState(0),d=[{img:D,alt:""},{img:R,alt:""},{img:W,alt:""}];return t.useEffect(()=>{const i=setInterval(()=>{c(n=>(n+1)%d.length)},3e3);return()=>clearInterval(i)},[]),e.jsxs("div",{className:"home-section",children:[e.jsxs("div",{className:"home-content",style:{backgroundImage:`url(${d[a].img})`,backgroundSize:"cover",backgroundPosition:"center",transition:"background-image 1s ease-in-out"},children:[e.jsx("span",{className:"mb-4",children:"Abren Coffee"}),e.jsx("p",{className:"mb-4",children:"A small river named Duden flows by their place and supplies it with the necessary regelialia."}),e.jsx(b,{to:"/shop",className:"shop-button",children:"Shop Now"})]}),e.jsx(k,{}),e.jsx(F,{}),e.jsx(y,{}),e.jsx(L,{}),e.jsx(A,{}),e.jsx(I,{})]})};export{q as default};
